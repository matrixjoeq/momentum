# ETF 动量轮动策略研究 - 基准提示

将本文件作为后续协作的共识提示（prompt），确保开发与研究的一致性。

## 总体目标
- 设计、验证并部署可上实盘的 ETF 动量轮动策略，兼顾收益、回撤和稳健性。
- 采用 Python 3 开发，数据分析与策略研发遵循可重复、可测试、可监控的工程标准。

## 硬性约束
- 运行与依赖安装：使用 `python3`，依赖安装使用 `python3 -m pip install ...`。
- 开发流程：测试驱动开发（TDD），先写测试/验收标准再实现；持续重构。
- 版本控制：小步提交、清晰的提交信息，不回退或覆盖用户已有改动。
- 代码风格：模块化、可配置、具备文档字符串与必要注释；避免魔法常量。

## 架构与模块规划（可迭代细化）
- 数据层：行情获取、缓存/落地、数据校验与清洗。
- 特征与信号层：动量计算（多窗长）、去极值/标准化、调仓信号生成。
- 组合与执行层：持仓约束（ETF池、权重上限/下限、换手约束）、交易成本/滑点建模、调仓日历。
- 评估与监控：回测框架（含交易日历、成交撮合）、绩效评估（收益、波动、回撤、卡玛比率、信息比率、换手）、风险控制（风控阈值、止损/风格暴露约束）、可视化与日志监控。
- 配置管理：使用配置文件/参数化管线，便于实验与复现。

## 开发与质量要求
- 覆盖关键路径的单元测试/集成测试；对指标和成交逻辑做精确对齐测试。
- 数据一致性与异常处理：缺失值、停牌/节假日、成交量不足、复权/分红处理。
- 性能与可复现：使用向量化/批处理优先，固定随机种子，记录数据版本与参数。
- 可观察性：结构化日志、必要的指标输出；便于调试与回测复盘。

## 策略研究要点
- 动量定义：价格动量（多周期）、波动调整、跨周期权重融合；可比较相对强弱与绝对强弱过滤。
- 风险控制：仓位上限、单品权重上限、下行波动/回撤阈值、熔断/暂停处理。
- 交易细节：调仓频率（周/月）、手续费与滑点假设、最小成交单位/流动性过滤。
- 验证与稳定性：滚动窗口回测、不同市场阶段分段评估、参数敏感性与鲁棒性检查。

## 交付物与文档
- 代码：清晰的模块结构、入口脚本/CLI、主要函数/类的文档字符串。
- 测试：可重复运行的测试套件与示例数据/夹具。
- 文档：快速开始、配置说明、研究假设、已知限制与后续工作列表。

## 工作方式
- 先对需求进行澄清/拆解，再进入 TDD 实现；中途保持最小可行迭代。
- 优先保证正确性与风险可控，其次优化性能与扩展性。
